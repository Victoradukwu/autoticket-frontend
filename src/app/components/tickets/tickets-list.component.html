<main>
<div class="container container-fluid shadow" style="padding-top: 20px;">
	<h2 style="display: inline">Flight Tickets</h2> 
	<button type="button" class="btn float-right btn-solid" data-toggle="modal" data-target="#ticketFilterModal">
    Filter tickets
  </button>
	<div class="modal" id="ticketFilterModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Ticket Filter</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <div class="modal-body">
          <form novalidate (ngSubmit)="filterTickets()" [formGroup]="ticketSearchForm">
            <div class="form-group">
            <label>Passenger Name:</label>
            <input type="text" formControlName="passenger" class="form-control form-control-sm m-b-0"/>
            </div>

            <div class="form-group">
            <label >Email:</label>
            <input type="text" formControlName="booked_by" class="form-control form-control-sm"/>
            </div>

            <div class="form-group">
            <label >Flight Number:</label>
            <input type="text" formControlName="flight_number" class="form-control form-control-sm"/>
            </div>

            <div class="form-group">
            <label >Departure Date:</label>
            <input type="date" formControlName="flight_date" class="form-control form-control-sm"/>
            </div> 

            <hr>
            <div class="form-group">
              <button class="btn btn-solid float-left" [disabled]="!ticketSearchForm.valid">Submit</button>
            </div>
          </form>
        </div>
        
      </div>
    </div>
  </div>
  <div class="shadow">         
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Passenger name</th>
        <th>Flight Number</th>
        <th>Ticket Number</th>
        <th>Seat Number</th>
        <th>From</th>
        <th>To</th>
        <th>Date</th>
        <th>Departure Time</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor = "let ticket of tickets">
        <td>{{ ticket.passenger }}</td>
        <td>{{ ticket.seat.flight_info.number }}</td>
        <td>{{ ticket.id }}</td>
        <td>{{ ticket.seat.seat_number }}</td>
        <td>{{ ticket.seat.flight_info.departure }}</td>
        <td>{{ ticket.seat.flight_info.destination }}</td>
        <td>{{ ticket.seat.flight_info.departure_date }}</td>
        <td>{{ ticket.seat.flight_info.departure_time }}</td>
      </tr>   
    </tbody>
  </table>
  </div>
</div>
</main>
